<!DOCTYPE html>
<html>
	<head>
		<title>Linkspace - a general purpose supernet</title>
		 <link rel="icon" type="image/x-icon" href="./images/logo.png">
		 <link rel="stylesheet" href="./style.css"/>
     <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source Code Pro">
	<body>
		 <a id="name" href="./index.html"><img id="logo" src="./images/logo.png"/>Linkspace</a>
		<div id="tagline">a general purpose supernet</div>
    

    <nav>
      <li>
        <a href="./index.html">Home</a>
      </li>
      <li>
        <a href="./code_intro.html">Quick start</a>
      </li>
      <li>
        <a href="./why.html">Why</a>
      </li>
      <li>
        <a href="./lns.html">LNS</a>
      </li>
      <li >
        <a href="./about.html">About</a>
      </li>
      <hr>
      <li>
        <a href="https://github.com/AntonSol919/linkspace/releases">Download</a>
      </li>

      <li>
        <a href="./docs/guide/index.html" target="_blank">Guide</a>
      </li>
      <li>
        <a href="./docs/tutorial/index.html" target="_blank">Tutorials</a>
      </li>
      <li>
        <a href="https://github.com/AntonSol919/linkspace" target="_blank">Git</a>
      </li>

    </nav>
    
    <div id="main">
      <p>This introduction jumps headlong into linkspace using the
      command line tool `lk` in bash. If you're unfamiliar with reading
      bash then <a href="./why.html">why</a> is a better place to start.
      You can follow along by <a
      href="https://github.com/AntonSol919/linkspace/releases">downloading</a>
      the latest release.</p>
      <div class="sourceCode" id="version"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="version-1"><a href="#version-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> <span class="at">--version</span></span></code></pre></div>
      <pre class="example"><code>linkspace-cli linkspace-cli - 0.3.1-rc1 - main - 106061e - 1.72.0-nightly
</code></pre>
      <h1 id="point">Point</h1>
      <p>A single unit in linkspace is called a `point`. A point can
      hold just shy of 64kb.</p>
      <div class="sourceCode" id="point-hello"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="point-hello-1"><a href="#point-hello-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;Hello, Sol!&quot;</span> <span class="kw">|</span> <span class="ex">lk</span> point <span class="op">&gt;</span> mylog</span></code></pre></div>
      <p>Beyond just data, there are some (optional) additional fields,
      such as:</p>
      <p>a path:</p>
      <div class="sourceCode" id="point-path"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="point-path-1"><a href="#point-path-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="at">-n</span> some data <span class="kw">|</span> <span class="ex">lk</span> point ::/my/example/path <span class="at">--data-stdin</span> <span class="op">&gt;&gt;</span> mylog</span></code></pre></div>
      <p>a timestamp that defaults to `now`:</p>
      <div class="sourceCode" id="point-create"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="point-create-1"><a href="#point-create-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> point ::/my/example/other_path <span class="at">--create-int</span> <span class="va">$(($(</span><span class="fu">date</span> +%s%N<span class="va">)</span><span class="op">/</span><span class="dv">1000000</span><span class="va">))</span> <span class="op">&gt;&gt;</span> mylog</span></code></pre></div>
      <p>and a signature:</p>
      <pre id="point-signed"><code>KEY=$(lk key --no-pubkey --no-lk --password &#39;my secret&#39;)
lk point ::/my/example/path/subpath --sign --enckey &quot;$KEY&quot; --password &#39;my secret&#39; &gt;&gt; mylog
</code></pre>
      <div class="sourceCode" id="real-signed"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="real-signed-1"><a href="#real-signed-1" aria-hidden="true" tabindex="-1"></a><span class="va">KEY</span><span class="op">=</span><span class="st">&#39;$argon2d$v=19$m=8,t=1,p=1$tb0anwpH0rSbYe6JLd1Bgtf00QQUAYuhOcBqeSjAgW4$kYAtGyF78cfPjRqcm4Y/s1hgQTRysELK/L910P2u27c&#39;</span></span>
<span id="real-signed-2"><a href="#real-signed-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> point ::/my/example/path/subpath <span class="at">--sign</span> <span class="at">--enckey</span> <span class="st">&quot;</span><span class="va">$KEY</span><span class="st">&quot;</span> <span class="at">--password</span> <span class="st">&#39;&#39;</span> <span class="op">&gt;&gt;</span> mylog</span></code></pre></div>
      <p>All points are hashed using Blake3.</p>
      <p>`pktf` formats a stream of points.</p>
      <div class="sourceCode" id="pktf"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="pktf-1"><a href="#pktf-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> mylog <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;The hash: [hash:str] refers to a point with path &#39;[path:str]&#39; and data: &#39;[data]&#39;&quot;</span></span></code></pre></div>
      <pre class="example"><code>The hash: Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk refers to a point with path &#39;&#39; and data: &#39;Hello, Sol!
&#39;
The hash: KXDT6NORMMAHrSX1yKgoxPX-bXMydDNFI6T4QfSxX0k refers to a point with path &#39;/my/example/path&#39; and data: &#39;some data&#39;
The hash: CavtGsDzcNysCAUoPnqPX3ijmyodl8rIQimg80SMj4o refers to a point with path &#39;/my/example/other_path&#39; and data: &#39;&#39;
The hash: uH9sMzedaItl5E9Ntjd7WIPxB3IH1nUKbcarD8HDEfA refers to a point with path &#39;/my/example/path/subpath&#39; and data: &#39;&#39;
</code></pre>
      <p>`filter` to take a subset of points. Here we take only the
      points with a path starting with `/my/example` and 1 additional
      component</p>
      <div class="sourceCode" id="filter"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="filter-1"><a href="#filter-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> mylog <span class="kw">|</span> <span class="ex">lk</span> filter ::/my/example:<span class="pp">*</span> <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;[hash:str] [path:str]&quot;</span></span></code></pre></div>
      <pre class="example"><code>KXDT6NORMMAHrSX1yKgoxPX-bXMydDNFI6T4QfSxX0k /my/example/path
CavtGsDzcNysCAUoPnqPX3ijmyodl8rIQimg80SMj4o /my/example/other_path
</code></pre>
      <p>What makes a supernet is:</p>
      <ul>
      <li>A hash addressable `unit` - in linkspace the `point`</li>
      <li>A point references other points by hash</li>
      </ul>
      <p>In linkspace these references are called `links`. Each link is
      a 16 byte tag and 32 byte hash value. Tags can be anything. If
      less than 16 bytes are supplied it is left-padded with 0's.</p>
      <div class="sourceCode" id="links"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="links-1"><a href="#links-1" aria-hidden="true" tabindex="-1"></a><span class="va">HASH</span><span class="op">=</span><span class="va">($(</span><span class="fu">cat</span> mylog <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="pp">[</span><span class="ss">hash:str</span><span class="pp">]</span><span class="va">))</span></span>
<span id="links-2"><a href="#links-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> point <span class="st">&quot;::/my/example/link&quot;</span> <span class="at">--</span> <span class="st">&quot;my first link:</span><span class="va">${HASH</span><span class="op">[</span><span class="dv">0</span><span class="op">]</span><span class="va">}</span><span class="st">&quot;</span> <span class="st">&quot;other link:Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk&quot;</span> <span class="op">&gt;&gt;</span> mylog</span></code></pre></div>
      <p>You can get fancy with `pktf` and `xargs`.</p>
      <div class="sourceCode" id="links-xargs"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="links-xargs-1"><a href="#links-xargs-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> mylog <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;mytag:[hash:str]&quot;</span> <span class="kw">|</span> <span class="fu">xargs</span> lk point ::/my/example/link <span class="at">--</span> <span class="op">&gt;&gt;</span> mylog</span></code></pre></div>
      <p>A tool like `lk collect` has a few additional options for
      building points linking to other points. However, the `lk` binary
      is meant to do simple things. Use the library and a better
      programming language when doing non-trivial stuff.</p>
      <details>
      <summary>
      Click here to see a graphical representation of mylog
      </summary>

      <p><img src="images/mylog-dot.svg" /></p>
      </details>

      <p>Creating points with `lk point` detects what kind you're trying
      to build. But it is better to be explicit. The 3 types of points
      are: `datapoint`, `linkpoint`, or `keypoint` (a signed
      linkpoint).</p>
      <p>NOTE: linkpoint and keypoint do not read data from stdin by
      default.</p>
      <div class="sourceCode" id="point-stdin"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="point-stdin-1"><a href="#point-stdin-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> somedata <span class="kw">|</span> <span class="ex">lk</span> linkpoint ::/my/other_path <span class="at">--data-stdin</span> <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;[hash:str] = [data]&quot;</span></span></code></pre></div>
      <pre class="example"><code>KbiehZXgKTWUxeo4E4qP9dIa1gomGO8c-DIu3P2jtG8 = somedata
</code></pre>
      <p>Linkspace is primarily its packet format. Using linkspace can
      be as simple as a device broadcasting linkspace points. Everything
      else is about making it easy to build complex things with these
      points. If one of the tools is a bad fit for your use-case, then
      consider building and sharing your own tool.</p>
      <h1 id="database">Database</h1>
      <p>Usually you'll want to save points to a linkspace database.</p>
      <div class="sourceCode" id="db-init"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="db-init-1"><a href="#db-init-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">LK_DIR</span><span class="op">=</span>/tmp/linkspace <span class="kw">;</span> </span>
<span id="db-init-2"><a href="#db-init-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> init <span class="kw">;</span> </span>
<span id="db-init-3"><a href="#db-init-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> mylog <span class="kw">|</span> <span class="ex">lk</span> save <span class="op">&gt;</span> /dev/null <span class="kw">;</span> </span></code></pre></div>
      <pre class="example"><code>LkInfo { dir: &quot;/tmp/linkspace&quot; }
</code></pre>
      <p>Instead of using `save` you can set a write destinations
      directly.</p>
      <div class="sourceCode" id="write"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="write-1"><a href="#write-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> hello world <span class="kw">|</span> <span class="ex">lk</span> point <span class="at">--write</span> db <span class="at">--write</span> file:mylog <span class="at">--write</span> stdout <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="pp">[</span><span class="ss">data</span><span class="pp">]</span></span></code></pre></div>
      <pre class="example"><code>hello world
</code></pre>
      <p>The database is useful for two reasons:</p>
      <ul>
      <li>It has an index to quickly lookup by hash or path</li>
      <li>Multiple processes/threads can read, write, and
      <strong><strong>watch</strong></strong> for new points.</li>
      </ul>
      <p>The library API has a user-driven eventloop that uses callbacks
      (<a href="./docs/guide/index.html#linkspace">guide</a>). The cli
      on the other hand is focused on streams. The commands are
      `watch-log`, `watch-tree`, `watch-hash`. These are shorthand for
      `watch –mode ..`.</p>
      <div class="sourceCode" id="watchtree"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="watchtree-1"><a href="#watchtree-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> watch-tree ::/my:<span class="pp">**</span> <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;[path:str]&quot;</span> <span class="op">&gt;</span> ./watching <span class="kw">&amp;</span></span></code></pre></div>
      <pre class="example"><code>[1] 10718
</code></pre>
      <div class="sourceCode" id="react"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="react-1"><a href="#react-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> ./watching</span></code></pre></div>
      <pre class="example"><code>/my/example/link
/my/example/link
/my/example/path
/my/example/other_path
/my/example/path/subpath
</code></pre>
      <p>Adding a new point</p>
      <div class="sourceCode" id="watch-write"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="watch-write-1"><a href="#watch-write-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint ::/my/my/my <span class="at">--write</span> db</span></code></pre></div>
      <p>Notifies watching threads.</p>
      <div class="sourceCode" id="react2"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="react2-1"><a href="#react2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> ./watching</span></code></pre></div>
      <pre class="example"><code>/my/example/link
/my/example/link
/my/example/path
/my/example/other_path
/my/example/path/subpath
/my/my/my
</code></pre>
      <h1 id="a-general-purpose-supernet">A general purpose
      supernet</h1>
      <p>To build an application pick a domain name (like you would an
      ip port - 16 bytes '\0' padded). For example `imageboard`.</p>
      <div class="line-block">`pktf` is common enough to have the alias
      `lk p`.</div>
      <div class="sourceCode" id="domain"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="domain-1"><a href="#domain-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint imageboard::/hello <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[domain:str]&quot;</span></span></code></pre></div>
      <pre class="example"><code>imageboard
</code></pre>
      <p>The goal of linkspace is to make it simple to build
      applications for a network of devices.</p>
      <p>A typical linkspace applications shouldn't have to deal with
      sockets. Instead, the application should only have to define how
      points are linked and how to handle them not being available
      (yet).</p>
      <div class="line-block">That can be a challenge at first. But the
      end result are better applications in general.<br />
      Simple applications designed for sockets that read/write streams
      of data allow us to ignore asynchronicity and partial state most
      of the time.<br />
      Until you add a third device to a system, and things explode in
      complexity and all assumptions have to be re-evaluated.</div>
      <p>For example, you might want to build an application so multiple
      people can draw to a shared 'board'. One option to map that idea
      into points is:</p>
      <ul>
      <li>Images are saved as data points</li>
      <li>Every link in a linkpoint is a hash to an image, and a tag
      holding (x,y) coordinates.</li>
      </ul>
      <p>Adding an image might look something like:</p>
      <div class="sourceCode" id="tuxpng"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="tuxpng-1"><a href="#tuxpng-1" aria-hidden="true" tabindex="-1"></a><span class="va">X</span><span class="op">=</span>30 <span class="kw">;</span> <span class="va">Y</span><span class="op">=</span>200 <span class="kw">;</span> <span class="va">IMG</span><span class="op">=</span><span class="st">&quot;https://upload.wikimedia.org/wikipedia/commons/3/35/Tux.svg&quot;</span> <span class="kw">;</span> </span>
<span id="tuxpng-2"><a href="#tuxpng-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-s</span> <span class="va">$IMG</span> <span class="kw">|</span> <span class="ex">lk</span> datapoint <span class="op">&gt;</span> tux.pkt</span>
<span id="tuxpng-3"><a href="#tuxpng-3" aria-hidden="true" tabindex="-1"></a><span class="va">IMG_HASH</span><span class="op">=</span><span class="va">$(</span><span class="fu">cat</span> tux.pkt <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[hash:str]&quot;</span><span class="va">)</span></span>
<span id="tuxpng-4"><a href="#tuxpng-4" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint imageboard::/hello/tux.svg <span class="at">--</span> <span class="va">$(</span><span class="bu">printf</span> <span class="st">&quot;%08d%08d&quot;</span> <span class="st">&quot;</span><span class="va">$X</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$Y</span><span class="st">&quot;</span><span class="va">)</span>:<span class="va">$IMG_HASH</span> <span class="op">&gt;&gt;</span> tux.pkt</span>
<span id="tuxpng-5"><a href="#tuxpng-5" aria-hidden="true" tabindex="-1"></a><span class="va">HASHES</span><span class="op">=</span><span class="va">($(</span><span class="fu">cat</span> tux.pkt <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[hash:str]&quot;</span><span class="va">))</span> <span class="co"># store as an array</span></span>
<span id="tuxpng-6"><a href="#tuxpng-6" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> save <span class="at">--pkts</span> ./tux.pkt <span class="co"># `cat` is usually useless but can be easier to read.</span></span></code></pre></div>
      <p>Building an image requires the program to watch for new packets
      in `imageboard::/hello`, and on every (new) point draw over the
      image.</p>
      <div class="sourceCode" id="watch-tree"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="watch-tree-1"><a href="#watch-tree-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> watch-tree <span class="st">&quot;imageboard::/hello:**&quot;</span> <span class="at">--max</span> 1 <span class="dt">\</span></span>
<span id="watch-tree-2"><a href="#watch-tree-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[hash:str] has the links:\n [links]&quot;</span> </span></code></pre></div>
      <pre class="example"><code>ciEsA2xnVktIvtePHSUSVcdJ_hHIlOM41lI5-23z7Ko has the links:
 0000003000000200:Sz0ZZDWxKht-jbM7Tfkn0nis4tNoKNPH_kfI7JYUnY4
</code></pre>
      <div class="line-block">You should always quote your
      arguments.<br />
      Otherwise, the previous example would not have worked.<br />
      Without the quotes the characters `[lin` in "[links]" would be
      interpreted by the default bash shell.</div>
      <p>A link might hold a hash to a point that is not yet available
      on the device. The program has to decide how to handle the
      situation. For `imageboard` we'll just wait. Waiting can be done
      manually. e.g.</p>
      <div class="sourceCode" id="watch-tree-links"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="watch-tree-links-1"><a href="#watch-tree-links-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> watch-tree <span class="st">&quot;imageboard::/hello:**&quot;</span> <span class="at">--max</span> 1 <span class="dt">\</span></span>
<span id="watch-tree-links-2"><a href="#watch-tree-links-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[links]&quot;</span> <span class="dt">\</span></span>
<span id="watch-tree-links-3"><a href="#watch-tree-links-3" aria-hidden="true" tabindex="-1"></a>   <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span><span class="st">&#39;:&#39;</span> <span class="at">-f2</span> <span class="dt">\</span></span>
<span id="watch-tree-links-4"><a href="#watch-tree-links-4" aria-hidden="true" tabindex="-1"></a>   <span class="kw">|</span> <span class="fu">xargs</span> <span class="at">-i</span> lk watch-hash <span class="st">&quot;{}&quot;</span> <span class="dt">\</span></span>
<span id="watch-tree-links-5"><a href="#watch-tree-links-5" aria-hidden="true" tabindex="-1"></a>   <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;got point [hash:str] which has [data_size:str] bytes&quot;</span></span></code></pre></div>
      <pre class="example"><code>got point Sz0ZZDWxKht-jbM7Tfkn0nis4tNoKNPH_kfI7JYUnY4 which has 49983 bytes
</code></pre>
      <p>Or use `lk get-links`. It has a few common strategies that
      might be simpler.</p>
      <div class="sourceCode" id="get-links"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="get-links-1"><a href="#get-links-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> watch-tree <span class="st">&quot;imageboard::/hello:**&quot;</span> <span class="at">--max</span> 1 <span class="dt">\</span></span>
<span id="get-links-2"><a href="#get-links-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">|</span> <span class="ex">lk</span> get-links pause <span class="dt">\</span></span>
<span id="get-links-3"><a href="#get-links-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;[hash:str]&quot;</span></span></code></pre></div>
      <pre class="example"><code>Sz0ZZDWxKht-jbM7Tfkn0nis4tNoKNPH_kfI7JYUnY4
ciEsA2xnVktIvtePHSUSVcdJ_hHIlOM41lI5-23z7Ko
</code></pre>
      <p>For the imageboard applications we now have to wire up another
      program to merge images into a single picture. See the tutorial
      for an example on doing this.</p>
      <p>The final piece of the puzzle is how exchanging points is
      organized. Each linkpoint has a group field. A group is 32 bytes
      to signal the intended set of recipients. Members ensure only
      members have access to the points. By convention, the public group
      is:</p>
      <div class="sourceCode" id="group"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="group-1"><a href="#group-1" aria-hidden="true" tabindex="-1"></a><span class="va">PUB</span><span class="op">=</span><span class="va">$(</span><span class="bu">echo</span> <span class="st">&quot;Hello, Sol!&quot;</span> <span class="kw">|</span> <span class="ex">lk</span> data <span class="kw">|</span> <span class="ex">lk</span> pktf <span class="st">&quot;[hash:str]&quot;</span><span class="va">)</span></span>
<span id="group-2"><a href="#group-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint :<span class="va">$PUB</span>:/example_path <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[group:str]&quot;</span></span></code></pre></div>
      <pre class="example"><code>Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk
</code></pre>
      <p>If no group is specified (like we've been doing) the public
      group is used.</p>
      <div class="sourceCode" id="group-str"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="group-str-1"><a href="#group-str-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint ::/example_path  <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[group:str]&quot;</span></span></code></pre></div>
      <pre class="example"><code>Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk
</code></pre>
      <p>The other special group is `[0;32]`, also called the private
      group. You can refer to it with the expression `[#:0]`.
      Functions/subcommands that read/write existing points skip and/or
      warn whenever a point from the private group is seen unless
      enabled with `–private`.</p>
      <div class="sourceCode" id="private"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="private-1"><a href="#private-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> linkpoint example:<span class="pp">[</span><span class="ss">#:0</span><span class="pp">]</span> <span class="kw">|</span> <span class="ex">lk</span> save <span class="dv">2</span><span class="op">&gt;&amp;</span><span class="dv">1</span> <span class="co"># creating a packet is ok - but receving is not accepted by `lk save` without --private</span></span></code></pre></div>
      <pre class="example"><code>error: Args { inner: [&quot;/home/rs/Projects/linkspace/target/debug/lk&quot;, &quot;save&quot;] }
Pkt(
    PrivateGroup,
)
</code></pre>
      <div class="line-block">See <a
      href="./docs/guide/index.html#ABE">ABE</a> for more on the `[..]`
      syntax.</div>
      <p>You can build a system to exchange points in a group from
      scratch. Linkspace does not prescribe a way to do so. Each group /
      network is different, and no single solution can cover every
      situation.</p>
      <p>For example, you can, use `lk watch imageboard:$MYGROUP | …`
      and forward the entire stream to another device using
      netcat/socat, ssh, email, http, a USB stick, or any other way to
      exchange bytes.</p>
      <p>There are build in tools to allow building more complex
      networks.</p>
      <p>A `point` refers to the fields we've seen so far. All these
      fields are included in the hash. However, everything is done in
      the point packet format. This format includes the point fields,
      the hash, and 32 unhashed/mutable bytes.</p>
      <p>Filters work on these mutable bytes as well. This let you
      quickly build specific network topologies.</p>
      <div class="line-block">See <a
      href="./docs/guide/index.org#mutable">the guide</a> for the
      mutable field names.</div>
      <pre id="exchange"><code>netcat 10.0.0.1 -p 6000 | lk route ubits0:=:0000 | lk save &amp; # get packets from a host and set their ubits0 to 0000
netcat 10.0.2.0 -p 6000 | lk route ubits0:=:0001 | lk save &amp; # get packets from another host and set their ubits0 to 0001
lk linkpoint example::/hello | lk route ubits0:=:0002 | lk save # save my packets with ubits 0002
lk watch-log --asc example::/hello -- &quot;ubits0:&gt;:0000&quot; | nc 10.0.0.1 -p 6000  &amp; # forward all packets with ubits0 higher than 0000 back to host. 
</code></pre>
      <div class="line-block">The key takeaway here is - everything
      talks (streams of) packets. Avoid building custom serialization
      e.g. `struct MyStruct {customheader , packet}`.<br />
      This makes your streams incompatible with all other tools.</div>
      <p>Linkspace does define some conventions. These are functions
      that encoded creating/watching for point with some predefined
      pathname, links, and data format. Conventions enable
      interoperability between multiple applications and background
      processes.</p>
      <p>One such convention is the `pull` convention. This writes a
      query as a specific point.</p>
      <div class="sourceCode" id="pull"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="pull-1"><a href="#pull-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> pull imageboard::/hello <span class="at">--write</span> stdout <span class="kw">|</span> <span class="ex">lk</span> p <span class="st">&quot;[path:str]\n\n[data]&quot;</span></span></code></pre></div>
      <pre class="example"><code>/pull/[b:Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk]/[a:imageboard]/default

:qid:default
type:1:[b2:00000010]
domain:=:[a:imageboard]
group:=:[b:Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk]
prefix:=:/hello
path_len:=:[u8:1]
</code></pre>
      <p>The goal of `pull` is to allow one process, e.g. an application
      like <a href="./docs/tutorial/imageboard.html">imageboard
      (bash)</a> or <a
      href="./docs/tutorial/mineweeper-1.html">mineweeper (python)</a>
      to signal another process, e.g. a group exchange application like
      <a href="./docs/tutorial/bash.exchange.html">bash.exchange</a>,
      that it wants packets matching a query from the group.</p>
      <p>Queries define a 'set of points' in linkspace. The `filter` and
      `watch` commands are syntax sugar over queries. You can add
      `–print-query` to those commands to see the query used.</p>
      <p>Queries are designed such that joining two query strings the
      result is the common subset of both or an error if the union is
      empty.</p>
      <div class="sourceCode" id="q1"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="q1-1"><a href="#q1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> print-query example::/ok </span></code></pre></div>
      <pre class="example"><code>:mode:tree-desc
type:1:[b2:00000010]
domain:=:[a:example]
group:=:[b:Yrs7iz3VznXh-ogv4aM62VmMNxXFiT4P24tIfVz9sTk]
prefix:=:/ok
path_len:=:[u8:1]
</code></pre>
      <div class="sourceCode" id="q2"><pre
      class="sourceCode bash"><code class="sourceCode bash"><span id="q2-1"><a href="#q2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lk</span> print-query example::/ok <span class="at">--</span> <span class="st">&quot;path:=:/not_ok&quot;</span></span></code></pre></div>
      <pre class="example"><code>error: Args { inner: [&quot;/home/rs/Projects/linkspace/target/debug/lk&quot;, &quot;print-query&quot;, &quot;example::/ok&quot;, &quot;--&quot;, &quot;path:=:/not_ok&quot;] }
Error {
    context: &quot;Error adding rule \&#39;path\&#39;&quot;,
    source: Error {
        context: &quot;path:=:/not_ok&quot;,
        source: &quot;prefix conflicting with path&quot;,
    },
}
</code></pre>
      <p>That's it for this quick introduction. For a more in-depth
      technical guide or the Python API see the <a
      href="./docs/guide/index.html">Guide</a>. See <a
      href="./why.html">why</a> for some of the reasoning behind
      linkspace.</p>
      <p>Linkspace is free and open source under the MPL-2.0. Give it a
      try next time you want to talk about data.</p>
    </div>
    </body>
</html>
